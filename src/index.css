
@import url('https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&family=Patrick+Hand&family=Shadows+Into+Light&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 36 20% 95%;
    --foreground: 40 10% 15%;

    --card: 35 25% 92%;
    --card-foreground: 40 10% 15%;

    --popover: 35 25% 92%;
    --popover-foreground: 40 10% 15%;

    --primary: 40 10% 15%;
    --primary-foreground: 36 20% 95%;

    --secondary: 30 20% 85%;
    --secondary-foreground: 40 10% 15%;

    --muted: 30 20% 85%;
    --muted-foreground: 40 15% 40%;

    --accent: 30 20% 85%;
    --accent-foreground: 40 10% 15%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 36 20% 95%;

    --border: 30 15% 70%;
    --input: 214.3 31.8% 91.4%;
    --ring: 40 10% 15%;

    --radius: 0.5rem;

    /* Custom notebook theme colors */
    --parchment: 36 30% 90%;
    --parchment-light: 36 20% 95%;
    --parchment-dark: 36 20% 85%;
    --parchment-aged: 35 35% 80%;
    
    --ink: 40 10% 15%;
    --ink-faded: 40 10% 30%;
    --ink-light: 40 10% 45%;
    
    --arcane: 270 40% 40%;
    --arcane-light: 270 40% 60%;
    --arcane-dark: 270 40% 25%;
  }

  * {
    @apply border-border;
    box-sizing: border-box;
  }

  html, body, #root {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  body {
    @apply bg-parchment text-ink font-fell;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='rgba(0,0,0,0.03)' fill-rule='evenodd'/%3E%3C/svg%3E"),
    linear-gradient(to right, hsl(var(--parchment)), hsl(var(--parchment-aged)), hsl(var(--parchment)));
    background-size: 200px, cover;
    position: relative;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M50 50c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10zM10 10c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10S0 25.523 0 20s4.477-10 10-10zm10 8c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm40 40c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    pointer-events: none;
    opacity: 0.4;
    z-index: 0;
  }
}

@layer components {
  .ink-splatter {
    @apply absolute pointer-events-none z-0 opacity-0;
    transform-origin: center;
    mix-blend-mode: multiply;
  }
  
  .ink-splatter-1 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23222' d='M30,50 Q50,20 70,50 T90,50 T30,50'/%3E%3C/svg%3E");
    width: 120px;
    height: 120px;
  }

  .ink-splatter-2 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle fill='%23222' cx='50' cy='50' r='25' /%3E%3Ccircle fill='%23222' cx='60' cy='40' r='10' /%3E%3Ccircle fill='%23222' cx='35' cy='60' r='15' /%3E%3C/svg%3E");
    width: 150px;
    height: 150px;
  }

  .ink-splatter-3 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23222' d='M30,40 Q40,20 50,30 T70,40 Q90,35 80,50 T60,70 Q40,75 30,60 T30,40'/%3E%3C/svg%3E");
    width: 180px;
    height: 180px;
  }

  .notebook-page {
    @apply relative bg-parchment-light p-8 rounded-md shadow-md mx-auto my-8 max-w-4xl;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .notebook-page::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(90deg, rgba(0,0,0,0.04) 0px, transparent 1px),
      linear-gradient(rgba(0,0,0,0.04) 0px, transparent 1px);
    background-size: 20px 20px;
    background-position: -1px -1px;
    pointer-events: none;
    z-index: 0;
    border-radius: inherit;
  }

  .notebook-page::after {
    content: '';
    position: absolute;
    top: 0;
    left: 20px;
    bottom: 0;
    width: 1px;
    background: linear-gradient(to bottom, 
      transparent 9px, 
      rgba(182, 54, 54, 0.2) 10px, 
      transparent 11px);
    background-size: 0 20px;
    background-repeat: repeat-y;
    pointer-events: none;
    z-index: 1;
  }

  .scribble {
    @apply font-shadows text-ink-faded relative;
  }

  .ancient-text {
    @apply font-fell italic text-ink;
  }

  .personal-note {
    @apply font-patrick text-ink-light;
  }

  .arcane-symbol {
    @apply text-arcane inline-block align-middle;
  }

  .rotated-element {
    @apply transition-transform duration-300;
    transform: rotate(var(--rotation, -1deg));
  }

  .rotated-element:nth-child(2n) {
    --rotation: 1deg;
  }

  .rotated-element:nth-child(3n) {
    --rotation: -0.5deg;
  }

  .rotated-element:nth-child(4n) {
    --rotation: 0.8deg;
  }

  .torn-edge {
    position: relative;
    overflow: hidden;
  }

  .torn-edge::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 0;
    right: 0;
    height: 20px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 50'%3E%3Cpath fill='hsl(36, 30%, 90%)' d='M0,0 L0,30 Q150,10 300,40 T600,20 T1000,30 L1000,0 Z'/%3E%3C/svg%3E");
    background-size: 100% 100%;
  }

  .page-transition-enter {
    @apply opacity-0;
    transform: translateY(20px);
  }

  .page-transition-enter-active {
    @apply opacity-100 transition-all duration-500 ease-out;
    transform: translateY(0);
  }

  .page-transition-exit {
    @apply opacity-100;
    transform: translateY(0);
  }

  .page-transition-exit-active {
    @apply opacity-0 transition-all duration-300 ease-in;
    transform: translateY(-20px);
  }
}
